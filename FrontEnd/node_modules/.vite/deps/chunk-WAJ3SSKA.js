import {
  Vt
} from "./chunk-CLB4XG6P.js";
import {
  require_prop_types
} from "./chunk-A6UJHDMF.js";
import {
  require_jsx_runtime
} from "./chunk-VLDDMMPX.js";
import {
  __toESM,
  require_react
} from "./chunk-TL73C5TT.js";

// node_modules/@nivo/legends/dist/nivo-legends.es.js
var import_jsx_runtime = __toESM(require_jsx_runtime());
var a = __toESM(require_react());
var import_react = __toESM(require_react());
var import_prop_types = __toESM(require_prop_types());
var m = function(e2) {
  var i = e2.x, n = e2.y, o = e2.size, r = e2.fill, l = e2.opacity, a2 = void 0 === l ? 1 : l, c2 = e2.borderWidth, s2 = void 0 === c2 ? 0 : c2, d2 = e2.borderColor;
  return (0, import_jsx_runtime.jsx)("circle", { r: o / 2, cx: i + o / 2, cy: n + o / 2, fill: r, opacity: a2, strokeWidth: s2, stroke: void 0 === d2 ? "transparent" : d2, style: { pointerEvents: "none" } });
};
var f = function(e2) {
  var i = e2.x, n = e2.y, o = e2.size, r = e2.fill, l = e2.opacity, a2 = void 0 === l ? 1 : l, c2 = e2.borderWidth, s2 = void 0 === c2 ? 0 : c2, d2 = e2.borderColor;
  return (0, import_jsx_runtime.jsx)("g", { transform: "translate(" + i + "," + n + ")", children: (0, import_jsx_runtime.jsx)("path", { d: "\n                    M" + o / 2 + " 0\n                    L" + 0.8 * o + " " + o / 2 + "\n                    L" + o / 2 + " " + o + "\n                    L" + 0.2 * o + " " + o / 2 + "\n                    L" + o / 2 + " 0\n                ", fill: r, opacity: a2, strokeWidth: s2, stroke: void 0 === d2 ? "transparent" : d2, style: { pointerEvents: "none" } }) });
};
var u = function(e2) {
  var i = e2.x, n = e2.y, o = e2.size, r = e2.fill, l = e2.opacity, a2 = void 0 === l ? 1 : l, c2 = e2.borderWidth, s2 = void 0 === c2 ? 0 : c2, d2 = e2.borderColor;
  return (0, import_jsx_runtime.jsx)("rect", { x: i, y: n, fill: r, opacity: a2, strokeWidth: s2, stroke: void 0 === d2 ? "transparent" : d2, width: o, height: o, style: { pointerEvents: "none" } });
};
var v = function(e2) {
  var i = e2.x, n = e2.y, o = e2.size, r = e2.fill, l = e2.opacity, a2 = void 0 === l ? 1 : l, c2 = e2.borderWidth, s2 = void 0 === c2 ? 0 : c2, d2 = e2.borderColor;
  return (0, import_jsx_runtime.jsx)("g", { transform: "translate(" + i + "," + n + ")", children: (0, import_jsx_runtime.jsx)("path", { d: "\n                M" + o / 2 + " 0\n                L" + o + " " + o + "\n                L0 " + o + "\n                L" + o / 2 + " 0\n            ", fill: r, opacity: a2, strokeWidth: s2, stroke: void 0 === d2 ? "transparent" : d2, style: { pointerEvents: "none" } }) });
};
function p() {
  return p = Object.assign || function(t2) {
    for (var e2 = 1; e2 < arguments.length; e2++) {
      var i = arguments[e2];
      for (var n in i)
        Object.prototype.hasOwnProperty.call(i, n) && (t2[n] = i[n]);
    }
    return t2;
  }, p.apply(this, arguments);
}
var b = { top: 0, right: 0, bottom: 0, left: 0 };
var k = function(t2) {
  var e2, i = t2.direction, n = t2.itemsSpacing, o = t2.padding, r = t2.itemCount, l = t2.itemWidth, a2 = t2.itemHeight;
  if ("number" != typeof o && ("object" != typeof (e2 = o) || Array.isArray(e2) || null === e2))
    throw new Error("Invalid property padding, must be one of: number, object");
  var c2 = "number" == typeof o ? { top: o, right: o, bottom: o, left: o } : p({}, b, o), s2 = c2.left + c2.right, d2 = c2.top + c2.bottom, h2 = l + s2, g2 = a2 + d2, m2 = (r - 1) * n;
  return "row" === i ? h2 = l * r + m2 + s2 : "column" === i && (g2 = a2 * r + m2 + d2), { width: h2, height: g2, padding: c2 };
};
var x = function(t2) {
  var e2 = t2.anchor, i = t2.translateX, n = t2.translateY, o = t2.containerWidth, r = t2.containerHeight, l = t2.width, a2 = t2.height, c2 = i, s2 = n;
  switch (e2) {
    case "top":
      c2 += (o - l) / 2;
      break;
    case "top-right":
      c2 += o - l;
      break;
    case "right":
      c2 += o - l, s2 += (r - a2) / 2;
      break;
    case "bottom-right":
      c2 += o - l, s2 += r - a2;
      break;
    case "bottom":
      c2 += (o - l) / 2, s2 += r - a2;
      break;
    case "bottom-left":
      s2 += r - a2;
      break;
    case "left":
      s2 += (r - a2) / 2;
      break;
    case "center":
      c2 += (o - l) / 2, s2 += (r - a2) / 2;
  }
  return { x: c2, y: s2 };
};
var S = function(t2) {
  var e2, i, n, o, r, l, a2 = t2.direction, c2 = t2.justify, s2 = t2.symbolSize, d2 = t2.symbolSpacing, h2 = t2.width, g2 = t2.height;
  switch (a2) {
    case "left-to-right":
      e2 = 0, i = (g2 - s2) / 2, o = g2 / 2, l = "central", c2 ? (n = h2, r = "end") : (n = s2 + d2, r = "start");
      break;
    case "right-to-left":
      e2 = h2 - s2, i = (g2 - s2) / 2, o = g2 / 2, l = "central", c2 ? (n = 0, r = "start") : (n = h2 - s2 - d2, r = "end");
      break;
    case "top-to-bottom":
      e2 = (h2 - s2) / 2, i = 0, n = h2 / 2, r = "middle", c2 ? (o = g2, l = "alphabetic") : (o = s2 + d2, l = "text-before-edge");
      break;
    case "bottom-to-top":
      e2 = (h2 - s2) / 2, i = g2 - s2, n = h2 / 2, r = "middle", c2 ? (o = 0, l = "text-before-edge") : (o = g2 - s2 - d2, l = "alphabetic");
  }
  return { symbolX: e2, symbolY: i, labelX: n, labelY: o, labelAnchor: r, labelAlignment: l };
};
var O = { circle: m, diamond: f, square: u, triangle: v };
var B = function(i) {
  var n, r, l, c2, h2, g2, m2, f2, u2, v2, y, b2 = i.x, k2 = i.y, x2 = i.width, A = i.height, W = i.data, z = i.direction, C = void 0 === z ? "left-to-right" : z, B2 = i.justify, w2 = void 0 !== B2 && B2, X2 = i.textColor, Y2 = i.background, H2 = void 0 === Y2 ? "transparent" : Y2, E = i.opacity, j = void 0 === E ? 1 : E, T2 = i.symbolShape, L = void 0 === T2 ? "square" : T2, M = i.symbolSize, F = void 0 === M ? 16 : M, P = i.symbolSpacing, R = void 0 === P ? 8 : P, q = i.symbolBorderWidth, V = void 0 === q ? 0 : q, D = i.symbolBorderColor, G = void 0 === D ? "transparent" : D, I = i.onClick, N = i.onMouseEnter, _ = i.onMouseLeave, J = i.toggleSerie, K = i.effects, Q = (0, import_react.useState)({}), U = Q[0], Z = Q[1], $ = Vt(), tt = (0, import_react.useCallback)(function(t2) {
    if (K) {
      var e2 = K.filter(function(t3) {
        return "hover" === t3.on;
      }).reduce(function(t3, e3) {
        return p({}, t3, e3.style);
      }, {});
      Z(e2);
    }
    null == N || N(W, t2);
  }, [N, W, K]), et = (0, import_react.useCallback)(function(t2) {
    if (K) {
      var e2 = K.filter(function(t3) {
        return "hover" !== t3.on;
      }).reduce(function(t3, e3) {
        return p({}, t3, e3.style);
      }, {});
      Z(e2);
    }
    null == _ || _(W, t2);
  }, [_, W, K]), it = S({ direction: C, justify: w2, symbolSize: null != (n = U.symbolSize) ? n : F, symbolSpacing: R, width: x2, height: A }), nt = it.symbolX, ot = it.symbolY, rt = it.labelX, lt = it.labelY, at = it.labelAnchor, ct = it.labelAlignment, st = [I, N, _, J].some(function(t2) {
    return void 0 !== t2;
  }), dt = "function" == typeof L ? L : O[L];
  return (0, import_jsx_runtime.jsxs)("g", { transform: "translate(" + b2 + "," + k2 + ")", style: { opacity: null != (r = U.itemOpacity) ? r : j }, children: [(0, import_jsx_runtime.jsx)("rect", { width: x2, height: A, fill: null != (l = U.itemBackground) ? l : H2, style: { cursor: st ? "pointer" : "auto" }, onClick: function(t2) {
    null == I || I(W, t2), null == J || J(W.id);
  }, onMouseEnter: tt, onMouseLeave: et }), a.createElement(dt, p({ id: W.id, x: nt, y: ot, size: null != (c2 = U.symbolSize) ? c2 : F, fill: null != (h2 = null != (g2 = W.fill) ? g2 : W.color) ? h2 : "black", borderWidth: null != (m2 = U.symbolBorderWidth) ? m2 : V, borderColor: null != (f2 = U.symbolBorderColor) ? f2 : G }, W.hidden ? $.legends.hidden.symbol : void 0)), (0, import_jsx_runtime.jsx)("text", { textAnchor: at, style: p({}, $.legends.text, { fill: null != (u2 = null != (v2 = null != (y = U.itemTextColor) ? y : X2) ? v2 : $.legends.text.fill) ? u2 : "black", dominantBaseline: ct, pointerEvents: "none", userSelect: "none" }, W.hidden ? $.legends.hidden.text : void 0), x: rt, y: lt, children: W.label })] });
};
var w = function(e2) {
  var i = e2.data, n = e2.x, o = e2.y, r = e2.direction, l = e2.padding, a2 = void 0 === l ? 0 : l, c2 = e2.justify, s2 = e2.effects, d2 = e2.itemWidth, h2 = e2.itemHeight, g2 = e2.itemDirection, m2 = void 0 === g2 ? "left-to-right" : g2, f2 = e2.itemsSpacing, u2 = void 0 === f2 ? 0 : f2, v2 = e2.itemTextColor, p2 = e2.itemBackground, y = void 0 === p2 ? "transparent" : p2, b2 = e2.itemOpacity, x2 = void 0 === b2 ? 1 : b2, S2 = e2.symbolShape, A = e2.symbolSize, W = e2.symbolSpacing, z = e2.symbolBorderWidth, C = e2.symbolBorderColor, O2 = e2.onClick, w2 = e2.onMouseEnter, X2 = e2.onMouseLeave, Y2 = e2.toggleSerie, H2 = k({ itemCount: i.length, itemWidth: d2, itemHeight: h2, itemsSpacing: u2, direction: r, padding: a2 }).padding, E = "row" === r ? d2 + u2 : 0, j = "column" === r ? h2 + u2 : 0;
  return (0, import_jsx_runtime.jsx)("g", { transform: "translate(" + n + "," + o + ")", children: i.map(function(e3, i2) {
    return (0, import_jsx_runtime.jsx)(B, { data: e3, x: i2 * E + H2.left, y: i2 * j + H2.top, width: d2, height: h2, direction: m2, justify: c2, effects: s2, textColor: v2, background: y, opacity: x2, symbolShape: S2, symbolSize: A, symbolSpacing: W, symbolBorderWidth: z, symbolBorderColor: C, onClick: O2, onMouseEnter: w2, onMouseLeave: X2, toggleSerie: Y2 }, i2);
  }) });
};
var X = function(e2) {
  var i = e2.data, n = e2.containerWidth, o = e2.containerHeight, r = e2.translateX, l = void 0 === r ? 0 : r, a2 = e2.translateY, c2 = void 0 === a2 ? 0 : a2, s2 = e2.anchor, d2 = e2.direction, h2 = e2.padding, g2 = void 0 === h2 ? 0 : h2, m2 = e2.justify, f2 = e2.itemsSpacing, u2 = void 0 === f2 ? 0 : f2, v2 = e2.itemWidth, p2 = e2.itemHeight, y = e2.itemDirection, b2 = e2.itemTextColor, S2 = e2.itemBackground, A = e2.itemOpacity, W = e2.symbolShape, z = e2.symbolSize, C = e2.symbolSpacing, O2 = e2.symbolBorderWidth, B2 = e2.symbolBorderColor, X2 = e2.onClick, Y2 = e2.onMouseEnter, H2 = e2.onMouseLeave, E = e2.toggleSerie, j = e2.effects, T2 = k({ itemCount: i.length, itemsSpacing: u2, itemWidth: v2, itemHeight: p2, direction: d2, padding: g2 }), L = T2.width, M = T2.height, F = x({ anchor: s2, translateX: l, translateY: c2, containerWidth: n, containerHeight: o, width: L, height: M }), P = F.x, R = F.y;
  return (0, import_jsx_runtime.jsx)(w, { data: i, x: P, y: R, direction: d2, padding: g2, justify: m2, effects: j, itemsSpacing: u2, itemWidth: v2, itemHeight: p2, itemDirection: y, itemTextColor: b2, itemBackground: S2, itemOpacity: A, symbolShape: W, symbolSize: z, symbolSpacing: C, symbolBorderWidth: O2, symbolBorderColor: B2, onClick: X2, onMouseEnter: Y2, onMouseLeave: H2, toggleSerie: "boolean" == typeof E ? void 0 : E });
};
var Y = { start: "left", middle: "center", end: "right" };
var H = function(t2, e2) {
  var i = e2.data, n = e2.containerWidth, o = e2.containerHeight, r = e2.translateX, l = void 0 === r ? 0 : r, a2 = e2.translateY, c2 = void 0 === a2 ? 0 : a2, s2 = e2.anchor, d2 = e2.direction, h2 = e2.padding, g2 = void 0 === h2 ? 0 : h2, m2 = e2.justify, f2 = void 0 !== m2 && m2, u2 = e2.itemsSpacing, v2 = void 0 === u2 ? 0 : u2, p2 = e2.itemWidth, y = e2.itemHeight, b2 = e2.itemDirection, A = void 0 === b2 ? "left-to-right" : b2, W = e2.itemTextColor, z = e2.symbolSize, C = void 0 === z ? 16 : z, O2 = e2.symbolSpacing, B2 = void 0 === O2 ? 8 : O2, w2 = e2.theme, X2 = k({ itemCount: i.length, itemWidth: p2, itemHeight: y, itemsSpacing: v2, direction: d2, padding: g2 }), H2 = X2.width, E = X2.height, j = X2.padding, T2 = x({ anchor: s2, translateX: l, translateY: c2, containerWidth: n, containerHeight: o, width: H2, height: E }), L = T2.x, M = T2.y, F = "row" === d2 ? p2 + v2 : 0, P = "column" === d2 ? y + v2 : 0;
  t2.save(), t2.translate(L, M), t2.font = w2.legends.text.fontSize + "px " + (w2.legends.text.fontFamily || "sans-serif"), i.forEach(function(e3, i2) {
    var n2, o2, r2 = i2 * F + j.left, l2 = i2 * P + j.top, a3 = S({ direction: A, justify: f2, symbolSize: C, symbolSpacing: B2, width: p2, height: y }), c3 = a3.symbolX, s3 = a3.symbolY, d3 = a3.labelX, h3 = a3.labelY, g3 = a3.labelAnchor, m3 = a3.labelAlignment;
    t2.fillStyle = null != (n2 = e3.color) ? n2 : "black", t2.fillRect(r2 + c3, l2 + s3, C, C), t2.textAlign = Y[g3], "central" === m3 && (t2.textBaseline = "middle"), t2.fillStyle = null != (o2 = null != W ? W : w2.legends.text.fill) ? o2 : "black", t2.fillText(String(e3.label), r2 + d3, l2 + h3);
  }), t2.restore();
};
var T = { data: import_prop_types.default.arrayOf(import_prop_types.default.object), anchor: import_prop_types.default.oneOf(["top", "top-right", "right", "bottom-right", "bottom", "bottom-left", "left", "top-left", "center"]).isRequired, translateX: import_prop_types.default.number, translateY: import_prop_types.default.number, direction: import_prop_types.default.oneOf(["row", "column"]).isRequired, itemsSpacing: import_prop_types.default.number, itemWidth: import_prop_types.default.number.isRequired, itemHeight: import_prop_types.default.number.isRequired, itemDirection: import_prop_types.default.oneOf(["left-to-right", "right-to-left", "top-to-bottom", "bottom-to-top"]), itemTextColor: import_prop_types.default.string, itemBackground: import_prop_types.default.string, itemOpacity: import_prop_types.default.number, symbolShape: import_prop_types.default.oneOfType([import_prop_types.default.oneOf(["circle", "diamond", "square", "triangle"]), import_prop_types.default.func]), symbolSize: import_prop_types.default.number, symbolSpacing: import_prop_types.default.number, symbolBorderWidth: import_prop_types.default.number, symbolBorderColor: import_prop_types.default.string, onClick: import_prop_types.default.func, onMouseEnter: import_prop_types.default.func, onMouseLeave: import_prop_types.default.func, effects: import_prop_types.default.arrayOf(import_prop_types.default.shape({ on: import_prop_types.default.oneOfType([import_prop_types.default.oneOf(["hover"])]).isRequired, style: import_prop_types.default.shape({ itemTextColor: import_prop_types.default.string, itemBackground: import_prop_types.default.string, itemOpacity: import_prop_types.default.number, symbolSize: import_prop_types.default.number, symbolBorderWidth: import_prop_types.default.number, symbolBorderColor: import_prop_types.default.string }).isRequired })) };

export {
  X,
  H
};
//# sourceMappingURL=chunk-WAJ3SSKA.js.map
