import {
  B,
  X,
  X2,
  Z
} from "./chunk-KSKJFKQL.js";
import {
  At,
  Si,
  Vt,
  We,
  Zt,
  animated,
  area_default,
  basis_default,
  it,
  k,
  line_default,
  linear,
  linear_default,
  point,
  pr,
  rn,
  ti,
  to,
  tt,
  useSpring,
  useSprings,
  w
} from "./chunk-QZ7V4FNV.js";
import "./chunk-GH7Z2EUS.js";
import "./chunk-G5FH7OTK.js";
import {
  require_jsx_runtime
} from "./chunk-FEVPAJEA.js";
import {
  require_react
} from "./chunk-X6MODOAL.js";
import {
  __toESM
} from "./chunk-J43GMYXM.js";

// node_modules/@nivo/bump/dist/nivo-bump.es.js
var import_react = __toESM(require_react());
var import_jsx_runtime = __toESM(require_jsx_runtime());
function z() {
  return z = Object.assign || function(i2) {
    for (var e2 = 1; e2 < arguments.length; e2++) {
      var t2 = arguments[e2];
      for (var o2 in t2)
        Object.prototype.hasOwnProperty.call(t2, o2) && (i2[o2] = t2[o2]);
    }
    return i2;
  }, z.apply(this, arguments);
}
function T(i2, e2) {
  if (null == i2)
    return {};
  var t2, o2, n2 = {}, r = Object.keys(i2);
  for (o2 = 0; o2 < r.length; o2++)
    t2 = r[o2], e2.indexOf(t2) >= 0 || (n2[t2] = i2[t2]);
  return n2;
}
var G = function(i2) {
  return (0, import_react.useMemo)(function() {
    return "function" == typeof i2 ? i2 : function() {
      return i2;
    };
  }, [i2]);
};
var F = function(o2) {
  var n2 = o2.width, a = o2.height, d = o2.data, c = o2.interpolation, l = o2.xPadding, s = o2.xOuterPadding, v = o2.yOuterPadding, u = o2.lineWidth, p = o2.activeLineWidth, h = o2.inactiveLineWidth, m = o2.colors, W = o2.opacity, O = o2.activeOpacity, S = o2.inactiveOpacity, M = o2.pointSize, I2 = o2.activePointSize, C2 = o2.inactivePointSize, B3 = o2.pointColor, k2 = o2.pointBorderWidth, A = o2.activePointBorderWidth, E = o2.inactivePointBorderWidth, w2 = o2.pointBorderColor, T2 = o2.isInteractive, F2 = o2.defaultActiveSerieIds, H2 = (0, import_react.useState)(F2), X4 = H2[0], j2 = H2[1], Y2 = (0, import_react.useMemo)(function() {
    return function(i2) {
      var e2 = i2.width, t2 = i2.height, o3 = i2.data, n3 = i2.xPadding, r = i2.xOuterPadding, a2 = i2.yOuterPadding, d2 = /* @__PURE__ */ new Set(), c2 = /* @__PURE__ */ new Set();
      o3.forEach(function(i3) {
        i3.data.forEach(function(i4) {
          d2.add(i4.x), null !== i4.y && c2.add(i4.y);
        });
      });
      var l2 = Array.from(d2), s2 = Z(point().domain(l2).range([0, e2]).padding(r)), v2 = Array.from(c2).sort(function(i3, e3) {
        return i3 - e3;
      }), u2 = Z(point().domain(v2).range([0, t2]).padding(a2)), p2 = s2.step() * Math.min(0.5 * n3, 0.5);
      return { series: o3.map(function(i3) {
        var t3 = { id: i3.id, data: i3, points: [], linePoints: [] };
        return i3.data.forEach(function(o4, n4) {
          var r2 = null, a3 = null;
          null !== o4.y && (r2 = s2(o4.x), a3 = u2(o4.y));
          var d3 = { id: i3.id + "." + n4, serie: i3, data: o4, x: r2, y: a3 };
          t3.points.push(d3), null !== d3.x && (0 === n4 ? t3.linePoints.push([0, d3.y]) : t3.linePoints.push([d3.x - p2, d3.y])), t3.linePoints.push([d3.x, d3.y]), null !== r2 && (n4 === i3.data.length - 1 && r2 ? t3.linePoints.push([e2, d3.y]) : t3.linePoints.push([d3.x + p2, d3.y])), t3.points = t3.points.filter(function(i4) {
            return null !== i4.x;
          });
        }), t3;
      }), xScale: s2, yScale: u2 };
    }({ width: n2, height: a, data: d, xPadding: l, xOuterPadding: s, yOuterPadding: v });
  }, [n2, a, d, l, s, v]), K2 = Y2.series, R2 = Y2.xScale, q2 = Y2.yScale, D2 = function(i2) {
    return (0, import_react.useMemo)(function() {
      return line_default().curve("smooth" === i2 ? basis_default : linear_default).defined(function(i3) {
        return null !== i3[0] && null !== i3[1];
      });
    }, [i2]);
  }(c), J2 = pr(m, "id"), N2 = function(i2) {
    var e2 = i2.lineWidth, o3 = i2.activeLineWidth, n3 = i2.inactiveLineWidth, r = i2.opacity, a2 = i2.activeOpacity, d2 = i2.inactiveOpacity, c2 = i2.isInteractive, l2 = i2.activeSerieIds, s2 = G(e2), v2 = G(o3), u2 = G(n3), p2 = G(r), h2 = G(a2), f = G(d2), g = (0, import_react.useCallback)(function(i3) {
      return { opacity: p2(i3), lineWidth: s2(i3) };
    }, [s2, p2]), y = (0, import_react.useCallback)(function(i3) {
      return { opacity: h2(i3), lineWidth: v2(i3) };
    }, [v2, h2]), m2 = (0, import_react.useCallback)(function(i3) {
      return { opacity: f(i3), lineWidth: u2(i3) };
    }, [u2, f]);
    return (0, import_react.useCallback)(function(i3) {
      return c2 && 0 !== l2.length ? l2.includes(i3.id) ? y(i3) : m2(i3) : g(i3);
    }, [g, y, m2, c2, l2]);
  }({ lineWidth: u, activeLineWidth: p, inactiveLineWidth: h, opacity: W, activeOpacity: O, inactiveOpacity: S, isInteractive: T2, activeSerieIds: X4 }), Q2 = (0, import_react.useMemo)(function() {
    return K2.map(function(i2) {
      return z({}, i2, { color: J2(i2.data) }, N2(i2));
    });
  }, [K2, J2, N2]), U2 = Vt(), V2 = We(B3, U2), Z3 = We(w2, U2), $2 = function(i2) {
    var e2 = i2.pointSize, o3 = i2.activePointSize, n3 = i2.inactivePointSize, r = i2.pointBorderWidth, a2 = i2.activePointBorderWidth, d2 = i2.inactivePointBorderWidth, c2 = i2.isInteractive, l2 = i2.activeSerieIds, s2 = G(e2), v2 = G(o3), u2 = G(n3), p2 = G(r), h2 = G(a2), f = G(d2), g = (0, import_react.useCallback)(function(i3) {
      return { size: s2(i3), borderWidth: p2(i3) };
    }, [s2, p2]), y = (0, import_react.useCallback)(function(i3) {
      return { size: v2(i3), borderWidth: h2(i3) };
    }, [v2, h2]), m2 = (0, import_react.useCallback)(function(i3) {
      return { size: u2(i3), borderWidth: f(i3) };
    }, [u2, f]);
    return (0, import_react.useCallback)(function(i3) {
      return c2 && 0 !== l2.length ? l2.includes(i3.serie.id) ? y(i3) : m2(i3) : g(i3);
    }, [g, y, m2, c2, l2]);
  }({ pointSize: M, activePointSize: I2, inactivePointSize: C2, pointBorderWidth: k2, activePointBorderWidth: A, inactivePointBorderWidth: E, isInteractive: T2, activeSerieIds: X4 }), _2 = (0, import_react.useMemo)(function() {
    var i2 = [];
    return Q2.forEach(function(e2) {
      e2.points.forEach(function(t2) {
        var o3 = z({}, t2, { serie: e2, isActive: X4.includes(e2.id), isInactive: X4.length > 0 && !X4.includes(e2.id) });
        o3.color = V2(o3), o3.borderColor = Z3(o3), i2.push(z({}, o3, $2(o3)));
      });
    }), i2;
  }, [Q2, V2, Z3, $2, X4]);
  return { xScale: R2, yScale: q2, series: Q2, points: _2, lineGenerator: D2, activeSerieIds: X4, setActiveSerieIds: j2 };
};
var H = function(i2) {
  var n2 = i2.serie, r = i2.isInteractive, a = i2.onMouseEnter, d = i2.onMouseMove, c = i2.onMouseLeave, l = i2.onClick, s = i2.setActiveSerieIds, v = i2.tooltip, u = k(), p = u.showTooltipFromEvent, h = u.hideTooltip, f = (0, import_react.useCallback)(function(i3) {
    p((0, import_react.createElement)(v, { serie: n2 }), i3), s([n2.id]), a && a(n2, i3);
  }, [n2, a, p, s, v]), g = (0, import_react.useCallback)(function(i3) {
    p((0, import_react.createElement)(v, { serie: n2 }), i3), d && d(n2, i3);
  }, [n2, d, p, v]), y = (0, import_react.useCallback)(function(i3) {
    h(), s([]), c && c(n2, i3);
  }, [n2, c, h, s]), m = (0, import_react.useCallback)(function(i3) {
    l && l(n2, i3);
  }, [n2, l]);
  return (0, import_react.useMemo)(function() {
    return { onMouseEnter: r ? f : void 0, onMouseMove: r ? g : void 0, onMouseLeave: r ? y : void 0, onClick: r ? m : void 0 };
  }, [r, f, g, y, m]);
};
var X3 = function(i2) {
  var t2 = i2.series, o2 = i2.position, n2 = i2.padding, a = i2.color, d = i2.getLabel, c = Vt(), l = We(a, c);
  return (0, import_react.useMemo)(function() {
    var i3, e2;
    "start" === o2 ? (i3 = "end", e2 = -1 * n2) : (i3 = "start", e2 = n2);
    var r = [];
    return t2.forEach(function(t3) {
      var n3 = t3.id;
      "function" == typeof d && (n3 = d(t3.data));
      var a2 = "start" === o2 ? t3.linePoints[0] : t3.linePoints[t3.linePoints.length - 1];
      null !== a2[0] && null !== a2[1] && r.push({ id: t3.id, label: n3, x: a2[0] + e2, y: a2[1], color: l(t3), opacity: t3.opacity, serie: t3, textAnchor: i3 });
    }), r;
  }, [t2, o2, n2, l, d]);
};
var j = { pointerEvents: "none" };
var Y = z({}, { layers: ["grid", "axes", "labels", "lines", "points"], interpolation: "smooth", xPadding: 0.6, xOuterPadding: 0.5, yOuterPadding: 0.5, colors: { scheme: "nivo" }, lineWidth: 2, activeLineWidth: 4, inactiveLineWidth: 1, opacity: 1, activeOpacity: 1, inactiveOpacity: 0.3, startLabel: false, startLabelPadding: 16, startLabelTextColor: { from: "color" }, endLabel: true, endLabelPadding: 16, endLabelTextColor: { from: "color" }, pointSize: 6, activePointSize: 8, inactivePointSize: 4, pointColor: { from: "serie.color" }, pointBorderWidth: 0, activePointBorderWidth: 0, inactivePointBorderWidth: 0, pointBorderColor: { from: "serie.color", modifiers: [["darker", 1.4]] }, enableGridX: true, enableGridY: true, axisTop: {}, axisBottom: {}, axisLeft: {}, isInteractive: true, defaultActiveSerieIds: [], tooltip: function(i2) {
  var e2 = i2.serie;
  return (0, import_jsx_runtime.jsx)(w, { "data-testid": "tooltip." + e2.data.id, id: e2.data.id, enableChip: true, color: e2.color });
}, role: "img" }, { pointComponent: function(i2) {
  var e2 = i2.point, t2 = tt(), o2 = t2.animate, n2 = t2.config, r = useSpring({ x: e2.x, y: e2.y, radius: e2.size / 2, color: e2.color, borderWidth: e2.borderWidth, config: n2, immediate: !o2 });
  return (0, import_jsx_runtime.jsx)(animated.circle, { "data-testid": "point." + e2.serie.id + "." + e2.data.x, cx: r.x, cy: r.y, r: to(r.radius, function(i3) {
    return Math.max(i3, 0);
  }), fill: r.color, strokeWidth: r.borderWidth, stroke: e2.borderColor, style: j });
}, animate: true, motionConfig: "gentle" });
var K = function(i2) {
  var e2 = i2.serie, t2 = i2.lineGenerator, o2 = i2.yStep, n2 = i2.isInteractive, r = i2.onMouseEnter, c = i2.onMouseMove, l = i2.onMouseLeave, s = i2.onClick, v = i2.setActiveSerieIds, u = i2.tooltip, p = H({ serie: e2, isInteractive: n2, onMouseEnter: r, onMouseMove: c, onMouseLeave: l, onClick: s, setActiveSerieIds: v, tooltip: u }), h = tt(), f = h.animate, g = h.config, y = t2(e2.linePoints) || "", m = it(y), b = useSpring({ color: e2.color, opacity: e2.opacity, lineWidth: e2.lineWidth, config: g, immediate: !f });
  return (0, import_jsx_runtime.jsxs)(import_jsx_runtime.Fragment, { children: [(0, import_jsx_runtime.jsx)(animated.path, { "data-testid": "line." + e2.id, fill: "none", d: m, stroke: b.color, strokeWidth: b.lineWidth, strokeLinecap: "round", strokeOpacity: b.opacity, style: { pointerEvents: "none" } }), n2 && (0, import_jsx_runtime.jsx)("path", { "data-testid": "line." + e2.id + ".interactive", fill: "none", stroke: "red", strokeOpacity: 0, strokeWidth: o2, d: y, strokeLinecap: "butt", onMouseEnter: p.onMouseEnter, onMouseMove: p.onMouseMove, onMouseLeave: p.onMouseLeave, onClick: p.onClick })] });
};
var R = function(i2) {
  var e2 = i2.series, t2 = i2.getLabel, o2 = i2.position, n2 = i2.padding, d = i2.color, c = Vt(), l = tt(), s = l.animate, v = l.config, u = X3({ series: e2, getLabel: t2, position: o2, padding: n2, color: d }), p = useSprings(u.length, u.map(function(i3) {
    return { x: i3.x, y: i3.y, opacity: i3.opacity, config: v, immediate: !s };
  }));
  return (0, import_jsx_runtime.jsx)(import_jsx_runtime.Fragment, { children: p.map(function(i3, e3) {
    var t3 = u[e3];
    return (0, import_jsx_runtime.jsx)(animated.text, { "data-testid": "label." + o2 + "." + t3.serie.id, x: i3.x, y: i3.y, textAnchor: t3.textAnchor, dominantBaseline: "central", opacity: i3.opacity, style: z({}, c.labels.text, { fill: t3.color }), children: t3.label }, t3.id);
  }) });
};
var q = function(i2) {
  var e2 = i2.points, t2 = i2.pointComponent;
  return (0, import_jsx_runtime.jsx)(import_jsx_runtime.Fragment, { children: e2.map(function(i3) {
    return (0, import_react.createElement)(t2, { key: i3.id, point: i3 });
  }) });
};
var D = ["isInteractive", "animate", "motionConfig", "theme", "renderWrapper"];
var J = function(i2) {
  var t2 = i2.data, r = i2.width, a = i2.height, d = i2.margin, c = i2.layers, v = void 0 === c ? Y.layers : c, u = i2.interpolation, f = void 0 === u ? Y.interpolation : u, g = i2.xPadding, y = void 0 === g ? Y.xPadding : g, m = i2.xOuterPadding, b = void 0 === m ? Y.xOuterPadding : m, x = i2.yOuterPadding, W = void 0 === x ? Y.yOuterPadding : x, O = i2.colors, P = void 0 === O ? Y.colors : O, S = i2.lineWidth, L = void 0 === S ? Y.lineWidth : S, M = i2.activeLineWidth, B3 = void 0 === M ? Y.activeLineWidth : M, k2 = i2.inactiveLineWidth, A = void 0 === k2 ? Y.inactiveLineWidth : k2, E = i2.opacity, w2 = void 0 === E ? Y.opacity : E, z2 = i2.activeOpacity, T2 = void 0 === z2 ? Y.activeOpacity : z2, G2 = i2.inactiveOpacity, H2 = void 0 === G2 ? Y.inactiveOpacity : G2, X4 = i2.startLabel, j2 = void 0 === X4 ? Y.startLabel : X4, D2 = i2.startLabelPadding, J2 = void 0 === D2 ? Y.startLabelPadding : D2, N2 = i2.startLabelTextColor, Q2 = void 0 === N2 ? Y.startLabelTextColor : N2, U2 = i2.endLabel, V2 = void 0 === U2 ? Y.endLabel : U2, Z3 = i2.endLabelPadding, $2 = void 0 === Z3 ? Y.endLabelPadding : Z3, _2 = i2.endLabelTextColor, ii2 = void 0 === _2 ? Y.endLabelTextColor : _2, ei2 = i2.pointComponent, ti3 = void 0 === ei2 ? Y.pointComponent : ei2, oi2 = i2.pointSize, ni2 = void 0 === oi2 ? Y.pointSize : oi2, ri2 = i2.activePointSize, ai2 = void 0 === ri2 ? Y.activePointSize : ri2, di = i2.inactivePointSize, ci = void 0 === di ? Y.inactivePointSize : di, li = i2.pointColor, si = void 0 === li ? Y.pointColor : li, vi = i2.pointBorderWidth, ui = void 0 === vi ? Y.pointBorderWidth : vi, pi = i2.activePointBorderWidth, hi = void 0 === pi ? Y.activePointBorderWidth : pi, fi = i2.inactivePointBorderWidth, gi = void 0 === fi ? Y.inactivePointBorderWidth : fi, yi = i2.pointBorderColor, mi = void 0 === yi ? Y.pointBorderColor : yi, bi = i2.enableGridX, xi = void 0 === bi ? Y.enableGridX : bi, Wi = i2.enableGridY, Oi = void 0 === Wi ? Y.enableGridY : Wi, Pi = i2.axisTop, Si2 = void 0 === Pi ? Y.axisTop : Pi, Li = i2.axisRight, Mi = i2.axisBottom, Ii = void 0 === Mi ? Y.axisBottom : Mi, Ci = i2.axisLeft, Bi = void 0 === Ci ? Y.axisLeft : Ci, ki = i2.isInteractive, Ai = void 0 === ki ? Y.isInteractive : ki, Ei = i2.defaultActiveSerieIds, wi = void 0 === Ei ? Y.defaultActiveSerieIds : Ei, zi = i2.onMouseEnter, Ti = i2.onMouseMove, Gi = i2.onMouseLeave, Fi = i2.onClick, Hi = i2.tooltip, Xi = void 0 === Hi ? Y.tooltip : Hi, ji = i2.role, Yi = void 0 === ji ? Y.role : ji, Ki = At(r, a, d), Ri = Ki.margin, qi = Ki.innerWidth, Di = Ki.innerHeight, Ji = Ki.outerWidth, Ni = Ki.outerHeight, Qi = F({ width: qi, height: Di, data: t2, interpolation: f, xPadding: y, xOuterPadding: b, yOuterPadding: W, lineWidth: L, activeLineWidth: B3, inactiveLineWidth: A, colors: P, opacity: w2, activeOpacity: T2, inactiveOpacity: H2, pointSize: ni2, activePointSize: ai2, inactivePointSize: ci, pointColor: si, pointBorderWidth: ui, activePointBorderWidth: hi, inactivePointBorderWidth: gi, pointBorderColor: mi, isInteractive: Ai, defaultActiveSerieIds: wi }), Ui = Qi.series, Vi = Qi.points, Zi = Qi.xScale, $i = Qi.yScale, _i = Qi.lineGenerator, ie = Qi.activeSerieIds, ee = Qi.setActiveSerieIds, te = { grid: null, axes: null, labels: null, lines: null, points: null };
  v.includes("grid") && (te.grid = (0, import_jsx_runtime.jsx)(B, { width: qi, height: Di, xScale: xi ? Zi : null, yScale: Oi ? $i : null }, "grid")), v.includes("axes") && (te.axes = (0, import_jsx_runtime.jsx)(X2, { xScale: Zi, yScale: $i, width: qi, height: Di, top: Si2, right: Li, bottom: Ii, left: Bi }, "axes")), v.includes("lines") && (te.lines = (0, import_jsx_runtime.jsx)(import_react.Fragment, { children: Ui.map(function(i3) {
    return (0, import_jsx_runtime.jsx)(K, { serie: i3, setActiveSerieIds: ee, lineGenerator: _i, yStep: $i.step(), isInteractive: Ai, onMouseEnter: zi, onMouseMove: Ti, onMouseLeave: Gi, onClick: Fi, tooltip: Xi }, i3.id);
  }) }, "lines")), v.includes("points") && (te.points = (0, import_jsx_runtime.jsx)(q, { pointComponent: ti3, points: Vi }, "points")), v.includes("labels") && (te.labels = (0, import_jsx_runtime.jsxs)(import_react.Fragment, { children: [false !== j2 && (0, import_jsx_runtime.jsx)(R, { series: Ui, getLabel: j2, position: "start", padding: J2, color: Q2 }), false !== V2 && (0, import_jsx_runtime.jsx)(R, { series: Ui, getLabel: V2, position: "end", padding: $2, color: ii2 })] }, "legends"));
  var oe = (0, import_react.useMemo)(function() {
    return { innerHeight: Di, innerWidth: qi, lineGenerator: _i, points: Vi, series: Ui, xScale: Zi, yScale: $i, activeSerieIds: ie, setActiveSerieIds: ee };
  }, [ie, ee, Di, qi, _i, Vi, Ui, Zi, $i]);
  return (0, import_jsx_runtime.jsx)(Si, { width: Ji, height: Ni, margin: Ri, role: Yi, children: v.map(function(i3, e2) {
    var t3;
    return "function" == typeof i3 ? (0, import_jsx_runtime.jsx)(import_react.Fragment, { children: (0, import_react.createElement)(i3, oe) }, e2) : null != (t3 = null == te ? void 0 : te[i3]) ? t3 : null;
  }) });
};
var N = function(i2) {
  var e2 = i2.isInteractive, t2 = void 0 === e2 ? Y.isInteractive : e2, o2 = i2.animate, n2 = void 0 === o2 ? Y.animate : o2, r = i2.motionConfig, a = void 0 === r ? Y.motionConfig : r, d = i2.theme, l = i2.renderWrapper, s = T(i2, D);
  return (0, import_jsx_runtime.jsx)(Zt, { animate: n2, isInteractive: t2, motionConfig: a, renderWrapper: l, theme: d, children: (0, import_jsx_runtime.jsx)(J, z({ isInteractive: t2 }, s)) });
};
var Q = function(i2) {
  return (0, import_jsx_runtime.jsx)(ti, { children: function(e2) {
    var t2 = e2.width, o2 = e2.height;
    return (0, import_jsx_runtime.jsx)(N, z({ width: t2, height: o2 }, i2));
  } });
};
var U = function(i2) {
  var t2 = i2.data, o2 = i2.width, n2 = i2.height, r = i2.align, a = i2.spacing, d = i2.xPadding;
  return (0, import_react.useMemo)(function() {
    return function(i3) {
      var e2, t3, o3 = i3.data, n3 = i3.width, r2 = i3.height, a2 = i3.align, d2 = i3.spacing, c = i3.xPadding, l = /* @__PURE__ */ new Map();
      o3.forEach(function(i4) {
        i4.data.forEach(function(o4) {
          l.has(o4.x) || l.set(o4.x, { id: o4.x, total: 0, values: /* @__PURE__ */ new Map(), x: 0 });
          var n4 = l.get(o4.x), r3 = n4.total + o4.y;
          n4.total = r3, n4.values.set(i4.id, { serieId: i4.id, value: o4.y, position: 0, height: 0, beforeHeight: 0 }), (void 0 === e2 || r3 > e2) && (e2 = r3), (void 0 === t3 || n4.values.size > t3) && (t3 = n4.values.size);
        });
      });
      var s = Z(point().domain(Array.from(l.keys())).range([0, n3])), v = X(linear().domain([0, e2]).range([0, r2 - t3 * d2]));
      l.forEach(function(i4, e3) {
        i4.x = s(e3);
        var t4 = v(i4.total) + i4.values.size * d2, o4 = 0;
        "middle" === a2 ? o4 = (r2 - t4) / 2 : "end" === a2 && (o4 = r2 - t4), Array.from(i4.values.values()).sort(function(i5, e4) {
          return e4.value - i5.value;
        }).forEach(function(e4, t5, n4) {
          var r3 = n4.filter(function(i5, e5) {
            return e5 < t5;
          }), a3 = r3.reduce(function(i5, e5) {
            return i5 + e5.value;
          }, 0), c2 = i4.values.get(e4.serieId);
          c2.position = t5, c2.height = v(e4.value), c2.beforeHeight = v(a3) + o4 + d2 * (r3.length + 0.5);
        });
      });
      var u = s.step() * Math.min(0.5 * c, 0.5), p = o3.map(function(i4) {
        var e3 = { id: i4.id, data: i4, points: [], areaPoints: [] };
        return i4.data.forEach(function(t4, o4) {
          var n4 = l.get(t4.x), r3 = n4.values.get(i4.id), a3 = n4.x, d3 = r3.beforeHeight, c2 = r3.height, s2 = d3 + c2 / 2, v2 = d3, p2 = d3 + c2;
          e3.points.push({ x: a3, y: s2, height: c2, data: z({}, t4) }), o4 > 0 && e3.areaPoints.push({ x: a3 - u, y0: v2, y1: p2 }), e3.areaPoints.push({ x: a3, y0: v2, y1: p2 }), o4 < i4.data.length - 1 && e3.areaPoints.push({ x: a3 + u, y0: v2, y1: p2 });
        }), e3;
      });
      return { series: p, xScale: s, heightScale: v };
    }({ data: t2, width: o2, height: n2, align: r, spacing: a, xPadding: d });
  }, [t2, o2, n2, r, a, d]);
};
var V = function(i2) {
  return (0, import_react.useMemo)(function() {
    return "function" == typeof i2 ? i2 : function() {
      return i2;
    };
  }, [i2]);
};
var Z2 = function(o2) {
  var n2 = o2.data, a = o2.width, d = o2.height, c = o2.align, l = o2.spacing, s = o2.xPadding, v = o2.interpolation, u = o2.colors, p = o2.fillOpacity, h = o2.activeFillOpacity, f = o2.inactiveFillOpacity, W = o2.borderWidth, O = o2.activeBorderWidth, P = o2.inactiveBorderWidth, S = o2.borderColor, L = o2.borderOpacity, M = o2.activeBorderOpacity, I2 = o2.inactiveBorderOpacity, C2 = o2.isInteractive, B3 = o2.defaultActiveSerieIds, k2 = (0, import_react.useState)(B3), A = k2[0], E = k2[1], w2 = U({ data: n2, width: a, height: d, align: c, spacing: l, xPadding: s }), T2 = w2.series, G2 = w2.xScale, F2 = w2.heightScale, H2 = function(i2) {
    return (0, import_react.useMemo)(function() {
      return area_default().x(function(i3) {
        return i3.x;
      }).y0(function(i3) {
        return i3.y0;
      }).y1(function(i3) {
        return i3.y1;
      }).curve("smooth" === i2 ? basis_default : linear_default);
    }, [i2]);
  }(v), X4 = pr(u, "id"), j2 = function(i2) {
    var e2 = i2.fillOpacity, o3 = i2.activeFillOpacity, n3 = i2.inactiveFillOpacity, a2 = i2.borderWidth, d2 = i2.activeBorderWidth, c2 = i2.inactiveBorderWidth, l2 = i2.borderColor, s2 = i2.borderOpacity, v2 = i2.activeBorderOpacity, u2 = i2.inactiveBorderOpacity, p2 = i2.isInteractive, h2 = i2.activeSerieIds, f2 = V(e2), g = V(o3), y = V(n3), m = V(a2), b = V(d2), W2 = V(c2), O2 = Vt(), P2 = We(l2, O2), S2 = V(s2), L2 = V(v2), M2 = V(u2), I3 = (0, import_react.useCallback)(function(i3) {
      return { fillOpacity: f2(i3), borderWidth: m(i3), borderColor: P2(i3), borderOpacity: S2(i3) };
    }, [f2, m, P2, S2]), C3 = (0, import_react.useCallback)(function(i3) {
      return { fillOpacity: g(i3), borderWidth: b(i3), borderColor: P2(i3), borderOpacity: L2(i3) };
    }, [g, b, P2, L2]), B4 = (0, import_react.useCallback)(function(i3) {
      return { fillOpacity: y(i3), borderWidth: W2(i3), borderColor: P2(i3), borderOpacity: M2(i3) };
    }, [y, W2, P2, M2]);
    return (0, import_react.useCallback)(function(i3) {
      return p2 && 0 !== h2.length ? h2.includes(i3.id) ? C3(i3) : B4(i3) : I3(i3);
    }, [I3, C3, B4, p2, h2]);
  }({ fillOpacity: p, activeFillOpacity: h, inactiveFillOpacity: f, borderWidth: W, activeBorderWidth: O, inactiveBorderWidth: P, borderColor: S, borderOpacity: L, activeBorderOpacity: M, inactiveBorderOpacity: I2, isInteractive: C2, activeSerieIds: A });
  return { series: (0, import_react.useMemo)(function() {
    return T2.map(function(i2) {
      var e2 = z({}, i2, { color: X4(i2.data) });
      return z({}, e2, j2(e2));
    });
  }, [T2, X4, j2]), xScale: G2, heightScale: F2, areaGenerator: H2, activeSerieIds: A, setActiveSerieIds: E };
};
var $ = function(i2) {
  var n2 = i2.serie, r = i2.isInteractive, a = i2.onMouseEnter, d = i2.onMouseMove, c = i2.onMouseLeave, l = i2.onClick, s = i2.setActiveSerieIds, v = i2.tooltip, u = k(), p = u.showTooltipFromEvent, h = u.hideTooltip, f = (0, import_react.useCallback)(function(i3) {
    p((0, import_react.createElement)(v, { serie: n2 }), i3), s([n2.id]), a && a(n2, i3);
  }, [n2, a, p, s, v]), g = (0, import_react.useCallback)(function(i3) {
    p((0, import_react.createElement)(v, { serie: n2 }), i3), d && d(n2, i3);
  }, [n2, d, p, v]), y = (0, import_react.useCallback)(function(i3) {
    h(), s([]), c && c(n2, i3);
  }, [n2, c, h, s]), m = (0, import_react.useCallback)(function(i3) {
    l && l(n2, i3);
  }, [n2, l]);
  return (0, import_react.useMemo)(function() {
    return { onMouseEnter: r ? f : void 0, onMouseMove: r ? g : void 0, onMouseLeave: r ? y : void 0, onClick: r ? m : void 0 };
  }, [r, f, g, y, m]);
};
var _ = function(i2) {
  var t2 = i2.series, o2 = i2.position, n2 = i2.padding, a = i2.color, d = i2.getLabel, c = Vt(), l = We(a, c);
  return (0, import_react.useMemo)(function() {
    var i3, e2;
    return "start" === o2 ? (i3 = "end", e2 = -1 * n2) : (i3 = "start", e2 = n2), t2.map(function(t3) {
      var n3 = t3.id;
      "function" == typeof d && (n3 = d(t3.data));
      var r = "start" === o2 ? t3.points[0] : t3.points[t3.points.length - 1];
      return { id: t3.id, label: n3, x: r.x + e2, y: r.y, color: l(t3), opacity: t3.fillOpacity, serie: t3, textAnchor: i3 };
    });
  }, [d, t2, o2, n2, l]);
};
var ii = function(i2) {
  var e2 = i2.serie, t2 = i2.areaGenerator, o2 = i2.blendMode, n2 = i2.isInteractive, r = i2.onMouseEnter, c = i2.onMouseMove, l = i2.onMouseLeave, s = i2.onClick, v = i2.setActiveSerieIds, u = i2.tooltip, p = $({ serie: e2, isInteractive: n2, onMouseEnter: r, onMouseMove: c, onMouseLeave: l, onClick: s, setActiveSerieIds: v, tooltip: u }), h = tt(), f = h.animate, g = h.config, y = it(t2(e2.areaPoints) || ""), m = useSpring({ color: e2.color, fillOpacity: e2.fillOpacity, stroke: e2.borderColor, strokeOpacity: e2.borderOpacity, config: g, immediate: !f });
  return (0, import_jsx_runtime.jsx)(animated.path, { "data-testid": "area." + e2.id, d: y, fill: e2.fill ? e2.fill : m.color, fillOpacity: m.fillOpacity, stroke: m.stroke, strokeWidth: e2.borderWidth, strokeOpacity: m.strokeOpacity, style: { mixBlendMode: o2 }, onMouseEnter: p.onMouseEnter, onMouseMove: p.onMouseMove, onMouseLeave: p.onMouseLeave, onClick: p.onClick });
};
var ei = function(i2) {
  var e2 = i2.getLabel, t2 = i2.series, o2 = i2.position, n2 = i2.padding, d = i2.color, c = Vt(), l = tt(), s = l.animate, v = l.config, u = _({ getLabel: e2, series: t2, position: o2, padding: n2, color: d }), p = useSprings(u.length, u.map(function(i3) {
    return { x: i3.x, y: i3.y, opacity: i3.opacity, config: v, immediate: !s };
  }));
  return (0, import_jsx_runtime.jsx)(import_jsx_runtime.Fragment, { children: p.map(function(i3, e3) {
    var t3 = u[e3];
    return (0, import_jsx_runtime.jsx)(animated.text, { "data-testid": "label." + o2 + "." + t3.serie.id, x: i3.x, y: i3.y, textAnchor: t3.textAnchor, dominantBaseline: "central", opacity: i3.opacity, style: z({}, c.labels.text, { fill: t3.color }), children: t3.label }, t3.id);
  }) });
};
var ti2 = z({}, { align: "middle", layers: ["grid", "axes", "labels", "areas"], interpolation: "smooth", spacing: 0, xPadding: 0.6, colors: { scheme: "nivo" }, blendMode: "normal", fillOpacity: 0.8, activeFillOpacity: 1, inactiveFillOpacity: 0.15, borderWidth: 1, activeBorderWidth: 1, inactiveBorderWidth: 0, borderColor: { from: "color", modifiers: [["darker", 0.4]] }, borderOpacity: 1, activeBorderOpacity: 1, inactiveBorderOpacity: 0, startLabel: false, startLabelPadding: 12, startLabelTextColor: { from: "color", modifiers: [["darker", 1]] }, endLabel: true, endLabelPadding: 12, endLabelTextColor: { from: "color", modifiers: [["darker", 1]] }, enableGridX: true, axisTop: {}, axisBottom: {}, isInteractive: true, defaultActiveSerieIds: [], tooltip: function(i2) {
  var e2 = i2.serie;
  return (0, import_jsx_runtime.jsx)(w, { id: e2.id, enableChip: true, color: e2.color });
}, role: "img" }, { defs: [], fill: [], animate: true, motionConfig: "gentle" });
var oi = ["isInteractive", "animate", "motionConfig", "theme", "renderWrapper"];
var ni = function(i2) {
  var t2 = i2.data, r = i2.align, a = void 0 === r ? ti2.align : r, d = i2.width, c = i2.height, v = i2.margin, f = i2.layers, g = void 0 === f ? ti2.layers : f, y = i2.interpolation, m = void 0 === y ? ti2.interpolation : y, b = i2.spacing, x = void 0 === b ? ti2.spacing : b, W = i2.xPadding, O = void 0 === W ? ti2.xPadding : W, P = i2.colors, S = void 0 === P ? ti2.colors : P, L = i2.blendMode, M = void 0 === L ? ti2.blendMode : L, B3 = i2.fillOpacity, k2 = void 0 === B3 ? ti2.fillOpacity : B3, A = i2.activeFillOpacity, E = void 0 === A ? ti2.activeFillOpacity : A, w2 = i2.inactiveFillOpacity, z2 = void 0 === w2 ? ti2.inactiveFillOpacity : w2, T2 = i2.defs, G2 = void 0 === T2 ? ti2.defs : T2, F2 = i2.fill, H2 = void 0 === F2 ? ti2.fill : F2, X4 = i2.borderWidth, j2 = void 0 === X4 ? ti2.borderWidth : X4, Y2 = i2.activeBorderWidth, K2 = void 0 === Y2 ? ti2.activeBorderWidth : Y2, R2 = i2.inactiveBorderWidth, q2 = void 0 === R2 ? ti2.inactiveBorderWidth : R2, D2 = i2.borderColor, J2 = void 0 === D2 ? ti2.borderColor : D2, N2 = i2.borderOpacity, Q2 = void 0 === N2 ? ti2.borderOpacity : N2, U2 = i2.activeBorderOpacity, V2 = void 0 === U2 ? ti2.activeBorderOpacity : U2, $2 = i2.inactiveBorderOpacity, _2 = void 0 === $2 ? ti2.inactiveBorderOpacity : $2, oi2 = i2.startLabel, ni2 = void 0 === oi2 ? ti2.startLabel : oi2, ri2 = i2.startLabelPadding, ai2 = void 0 === ri2 ? ti2.startLabelPadding : ri2, di = i2.startLabelTextColor, ci = void 0 === di ? ti2.startLabelTextColor : di, li = i2.endLabel, si = void 0 === li ? ti2.endLabel : li, vi = i2.endLabelPadding, ui = void 0 === vi ? ti2.endLabelPadding : vi, pi = i2.endLabelTextColor, hi = void 0 === pi ? ti2.endLabelTextColor : pi, fi = i2.enableGridX, gi = void 0 === fi ? ti2.enableGridX : fi, yi = i2.axisTop, mi = void 0 === yi ? ti2.axisTop : yi, bi = i2.axisBottom, xi = void 0 === bi ? ti2.axisBottom : bi, Wi = i2.isInteractive, Oi = void 0 === Wi ? ti2.isInteractive : Wi, Pi = i2.defaultActiveSerieIds, Si2 = void 0 === Pi ? ti2.defaultActiveSerieIds : Pi, Li = i2.onMouseEnter, Mi = i2.onMouseMove, Ii = i2.onMouseLeave, Ci = i2.onClick, Bi = i2.tooltip, ki = void 0 === Bi ? ti2.tooltip : Bi, Ai = i2.role, Ei = void 0 === Ai ? ti2.role : Ai, wi = At(d, c, v), zi = wi.margin, Ti = wi.innerWidth, Gi = wi.innerHeight, Fi = wi.outerWidth, Hi = wi.outerHeight, Xi = Z2({ data: t2, width: Ti, height: Gi, align: a, spacing: x, xPadding: O, interpolation: m, colors: S, fillOpacity: k2, activeFillOpacity: E, inactiveFillOpacity: z2, borderWidth: j2, activeBorderWidth: K2, inactiveBorderWidth: q2, borderColor: J2, borderOpacity: Q2, activeBorderOpacity: V2, inactiveBorderOpacity: _2, isInteractive: Oi, defaultActiveSerieIds: Si2 }), ji = Xi.series, Yi = Xi.xScale, Ki = Xi.heightScale, Ri = Xi.areaGenerator, qi = Xi.setActiveSerieIds, Di = (0, import_react.useMemo)(function() {
    return rn(G2, ji, H2, { targetKey: "fill" });
  }, [G2, ji, H2]), Ji = { grid: null, axes: null, labels: null, areas: null };
  g.includes("grid") && gi && (Ji.grid = (0, import_jsx_runtime.jsx)(B, { width: Ti, height: Gi, xScale: Yi }, "grid")), g.includes("axes") && (Ji.axes = (0, import_jsx_runtime.jsx)(X2, { xScale: Yi, yScale: Ki, width: Ti, height: Gi, top: mi, bottom: xi }, "axes")), g.includes("areas") && (Ji.areas = (0, import_jsx_runtime.jsx)(import_react.Fragment, { children: ji.map(function(i3) {
    return (0, import_jsx_runtime.jsx)(ii, { areaGenerator: Ri, serie: i3, blendMode: M, isInteractive: Oi, setActiveSerieIds: qi, onMouseEnter: Li, onMouseMove: Mi, onMouseLeave: Ii, onClick: Ci, tooltip: ki }, i3.id);
  }) }, "areas")), g.includes("labels") && (Ji.labels = (0, import_jsx_runtime.jsxs)(import_react.Fragment, { children: [false !== ni2 && (0, import_jsx_runtime.jsx)(ei, { getLabel: ni2, series: ji, position: "start", padding: ai2, color: ci }), false !== si && (0, import_jsx_runtime.jsx)(ei, { getLabel: si, series: ji, position: "end", padding: ui, color: hi })] }, "labels"));
  var Ni = (0, import_react.useMemo)(function() {
    return { innerWidth: Ti, innerHeight: Gi, outerWidth: Fi, outerHeight: Hi, series: ji, xScale: Yi, areaGenerator: Ri };
  }, [Ti, Gi, Fi, Hi, ji, Yi, Ri]);
  return (0, import_jsx_runtime.jsx)(Si, { defs: Di, width: Fi, height: Hi, margin: zi, role: Ei, children: g.map(function(i3, e2) {
    var t3;
    return "function" == typeof i3 ? (0, import_jsx_runtime.jsx)(import_react.Fragment, { children: (0, import_react.createElement)(i3, Ni) }, e2) : null != (t3 = null == Ji ? void 0 : Ji[i3]) ? t3 : null;
  }) });
};
var ri = function(i2) {
  var e2 = i2.isInteractive, t2 = void 0 === e2 ? ti2.isInteractive : e2, o2 = i2.animate, n2 = void 0 === o2 ? ti2.animate : o2, r = i2.motionConfig, a = void 0 === r ? ti2.motionConfig : r, d = i2.theme, l = i2.renderWrapper, s = T(i2, oi);
  return (0, import_jsx_runtime.jsx)(Zt, { animate: n2, isInteractive: t2, motionConfig: a, renderWrapper: l, theme: d, children: (0, import_jsx_runtime.jsx)(ni, z({ isInteractive: t2 }, s)) });
};
var ai = function(i2) {
  return (0, import_jsx_runtime.jsx)(ti, { children: function(e2) {
    var t2 = e2.width, o2 = e2.height;
    return (0, import_jsx_runtime.jsx)(ri, z({ width: t2, height: o2 }, i2));
  } });
};
export {
  ri as AreaBump,
  N as Bump,
  ai as ResponsiveAreaBump,
  Q as ResponsiveBump,
  ti2 as areaBumpSvgDefaultProps,
  Y as bumpSvgDefaultProps,
  Z2 as useAreaBump,
  $ as useAreaBumpSerieHandlers,
  _ as useAreaBumpSeriesLabels,
  F as useBump,
  H as useBumpSerieHandlers,
  X3 as useBumpSeriesLabels
};
//# sourceMappingURL=@nivo_bump.js.map
